def upload_dht_data_to_firebase(humidity, temperature, co2_value):
    # Firebase Realtime Database에 데이터를 저장할 경로 설정
    ref = db.reference('sensorData/dht22')
    
    # 현재 시간을 키로 사용하여 데이터 저장
    ref.push({
        'humidity': humidity,
        'temperature': temperature,
        'co2_value': co2_value,
        'timestamp': time.strftime('%Y-%m-%d %H:%M:%S')
    })
    print("DHT22 data uploaded to Firebase")
    try:
        while True:
            read_dht_data()  # DHT22 센서에서 온도 및 습도 데이터 읽기
            read_co2_data()  # CO2 센서에서 데이터 읽기
            time.sleep(2)    # 2초 대기

    except KeyboardInterrupt:
        print("Program stopped")

    finally:
        ser.close()  # 시리얼 포트 닫기
        GPIO.cleanup()  # GPIO 설정 해제
